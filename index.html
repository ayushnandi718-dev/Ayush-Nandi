import React, { useState, useEffect } from 'react';
import { 
  ArrowRight, 
  Instagram, 
  Mail, 
  Menu, 
  X,
  ChevronDown,
  Linkedin,
  Globe,
  Quote,
  ArrowLeft
} from 'lucide-react';

// --- Configuration & Constants ---
const APP_NAME = "AYUSH NANDI";
const INSTAGRAM_URL = "https://www.instagram.com/raw.vibing.aura/";
const LINKEDIN_URL = "https://www.linkedin.com/in/ayush-nandi-apdj-india"; 
const EMAUR_LINKEDIN_URL = "https://www.linkedin.com/company/em-aur/";

const PROFILE_IMAGE_URL = "https://raw.githubusercontent.com/ayushnandi718-dev/Ayush-Nandi/main/IMG-20251226-WA0100.jpg";
const EMAUR_IMAGE_URL = "https://raw.githubusercontent.com/ayushnandi718-dev/Ayush-Nandi/main/Emaur.jpg";
const RAW_VIBING_AURA_URL = "https://raw.githubusercontent.com/ayushnandi718-dev/Ayush-Nandi/main/Raw.jpg";
const FF_STUDIO_URL = "https://raw.githubusercontent.com/ayushnandi718-dev/Ayush-Nandi/main/Ff.jpg";

const CATEGORIES = ["Photography", "Digital Design", "Brand Stories"];

const QUOTES = [
  { text: "Design is not just what it looks like and feels like. Design is how it works.", author: "Steve Jobs" },
  { text: "Creativity is intelligence having fun.", author: "Albert Einstein" },
  { text: "Simplicity is the ultimate sophistication.", author: "Leonardo da Vinci" },
  { text: "Everything you can imagine is real.", author: "Pablo Picasso" },
  { text: "The details are not the details. They make the design.", author: "Charles Eames" }
];

const INITIAL_PROJECTS = [
  {
    id: 1,
    title: "Shadows of Intent",
    category: "Photography",
    description: "A study on natural lighting and the quiet moments of creation.",
    imageUrl: "https://images.unsplash.com/photo-1516035069371-29a1b244cc32?auto=format&fit=crop&q=80&w=1200",
  },
  {
    id: 2,
    title: "Digital Resonance",
    category: "Brand Stories",
    description: "Translating human emotion into digital interfaces.",
    imageUrl: "https://images.unsplash.com/photo-1498050108023-c5249f4df085?auto=format&fit=crop&q=80&w=1200",
  }
];

const EXPERIENCES = [
  { 
    id: 1, 
    handle: "raw.vibing.aura",
    label: "Personal Archive",
    role: "Visual Creator",
    year: "2023 — Present",
    platforms: ['instagram'],
    imgUrl: RAW_VIBING_AURA_URL,
    links: { instagram: INSTAGRAM_URL }
  },
  { 
    id: 2, 
    handle: "EMAUR",
    label: "Social Media Management",
    role: "Core Team Member",
    year: "2025 — Present",
    platforms: ['instagram', 'linkedin', 'globe'],
    imgUrl: EMAUR_IMAGE_URL,
    links: {
      instagram: "https://www.instagram.com/emaur_official/",
      linkedin: EMAUR_LINKEDIN_URL,
      globe: "COMING_SOON" 
    }
  },
  { 
    id: 3, 
    handle: "ff.studioco",
    label: "Creative Collective",
    role: "Collaborator",
    year: "2025 — Present",
    platforms: ['instagram'],
    imgUrl: FF_STUDIO_URL,
    links: { instagram: "https://www.instagram.com/ff.studioco/#" }
  }
];

// --- Sub-Components ---

const ComingSoonOverlay = ({ onClose }) => {
  return (
    <div className="fixed inset-0 z-[1000] bg-zinc-950 flex flex-col items-center justify-center overflow-hidden animate-fade-in touch-none">
      {/* Back Arrow Button - Fixed position */}
      <button 
        onClick={onClose}
        className="absolute top-8 left-8 p-4 text-zinc-400 hover:text-white transition-all bg-white/5 hover:bg-white/10 rounded-full border border-white/5 z-[1010] group"
        aria-label="Go back"
      >
        <ArrowLeft size={24} className="group-hover:-translate-x-1 transition-transform" />
      </button>

      {/* Background Decorative Text Spams */}
      <div className="absolute inset-0 opacity-[0.03] select-none pointer-events-none flex flex-wrap content-start justify-center gap-4 text-4xl md:text-7xl font-bold tracking-tighter uppercase overflow-hidden">
        {Array.from({ length: 80 }).map((_, i) => (
          <span key={i} className="animate-pulse" style={{ animationDelay: `${i * 100}ms` }}>COMING SOON</span>
        ))}
      </div>

      {/* Main Content */}
      <div className="relative z-10 text-center px-6">
        <div className="mb-6 inline-block px-4 py-1 border border-zinc-800 rounded-full bg-zinc-900/50 backdrop-blur-md">
          <span className="text-[10px] md:text-xs tracking-[0.4em] uppercase text-zinc-400 font-bold">Project EMAUR</span>
        </div>

        <div className="relative mb-8">
          <h1 className="text-6xl md:text-9xl font-black text-white tracking-tighter leading-none animate-bounce">
            COMING<br/><span className="italic font-serif font-light text-zinc-500">SOON</span>
          </h1>
        </div>

        <p className="text-zinc-400 text-sm md:text-lg max-w-md mx-auto leading-relaxed font-light mb-12">
          We're currently refining the digital architecture for EMAUR. Something extraordinary is being built in the shadows.
        </p>

        <div className="grid grid-cols-4 gap-4 md:gap-8 max-w-sm mx-auto">
          {['DAYS', 'HRS', 'MIN', 'SEC'].map((unit) => (
            <div key={unit} className="flex flex-col gap-2">
              <div className="text-2xl md:text-3xl font-mono text-white">00</div>
              <div className="text-[8px] tracking-widest text-zinc-600 font-bold uppercase">{unit}</div>
            </div>
          ))}
        </div>
      </div>

      {/* Footer Visual */}
      <div className="absolute bottom-10 left-0 w-full px-10 flex justify-between items-center opacity-20 pointer-events-none">
        <div className="h-[1px] flex-1 bg-zinc-800" />
        <div className="px-6 text-[8px] tracking-[1em] text-zinc-500 uppercase whitespace-nowrap">Access Restricted</div>
        <div className="h-[1px] flex-1 bg-zinc-800" />
      </div>
    </div>
  );
};

const Navbar = () => {
  const [scrolled, setScrolled] = useState(false);
  const [isOpen, setIsOpen] = useState(false);

  useEffect(() => {
    const handleScroll = () => setScrolled(window.scrollY > 20);
    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  useEffect(() => {
    if (isOpen) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = 'auto';
    }
  }, [isOpen]);

  return (
    <nav className={`fixed w-full z-[100] transition-all duration-500 px-4 md:px-0 ${
      scrolled 
        ? 'py-3 bg-zinc-950/40 backdrop-blur-xl border-b border-white/[0.05] shadow-2xl' 
        : 'py-6 md:py-8 bg-transparent'
    }`}>
      <div className="max-w-7xl mx-auto px-6 flex justify-between items-center relative">
        <div className="text-base md:text-lg font-medium tracking-[0.4em] uppercase text-zinc-100 italic font-serif cursor-default relative z-10">
          {APP_NAME}
        </div>
        
        <div className="hidden md:flex space-x-12 text-xs tracking-widest uppercase font-medium text-zinc-400">
          {['Works', 'Experience', 'About'].map((item) => (
            <a key={item} href={`#${item.toLowerCase()}`} className="hover:text-white transition-all duration-300 py-2 relative group">
              {item}
              <span className="absolute bottom-0 left-0 w-0 h-[1px] bg-white transition-all duration-300 group-hover:w-full" />
            </a>
          ))}
        </div>

        <button 
          className={`md:hidden text-zinc-100 p-3 -mr-3 flex items-center justify-center rounded-full transition-all ${
            scrolled ? 'bg-white/5 border border-white/10' : 'bg-zinc-800/20'
          }`}
          onClick={() => setIsOpen(!isOpen)}
        >
          {isOpen ? <X size={24} /> : <Menu size={24} />}
        </button>
      </div>

      {isOpen && (
        <div className="fixed inset-0 w-full bg-zinc-950/95 backdrop-blur-2xl h-screen flex flex-col items-center justify-center space-y-6 z-[150] animate-fade-in px-6">
          <button className="absolute top-8 right-8 text-white p-4" onClick={() => setIsOpen(false)}><X size={32}/></button>
          {['Works', 'Experience', 'About'].map((item) => (
            <a key={item} href={`#${item.toLowerCase()}`} onClick={() => setIsOpen(false)} className="text-3xl font-light tracking-widest text-zinc-100 uppercase py-6 w-full text-center active:bg-white/5 border-b border-white/5 last:border-0">
              {item}
            </a>
          ))}
        </div>
      )}
    </nav>
  );
};

const Hero = () => (
  <section className="relative min-h-screen flex items-center justify-center overflow-hidden bg-zinc-950 pt-32 pb-20">
    <div className="absolute inset-0 z-0">
      <div className="absolute inset-0 bg-gradient-to-b from-transparent via-zinc-950/50 to-zinc-950 z-10" />
      <img src="https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?auto=format&fit=crop&q=80&w=2000" alt="Cinematic Background" className="w-full h-full object-cover opacity-40 md:opacity-50 scale-105 animate-slow-zoom" />
    </div>
    <div className="relative z-20 text-center px-6 max-w-4xl flex flex-col items-center">
      <div className="mb-8 md:mb-10 animate-fade-in-up flex justify-center">
        <div className="relative p-1.5 rounded-full border border-white/20 shadow-2xl shadow-white/5 bg-white/5 backdrop-blur-sm">
          <img src={PROFILE_IMAGE_URL} alt={APP_NAME} className="w-24 h-24 md:w-32 md:h-32 rounded-full object-cover border border-zinc-100/10 shadow-lg" />
        </div>
      </div>
      <h2 className="text-zinc-400 uppercase tracking-[0.6em] text-[9px] md:text-[10px] mb-6 animate-fade-in-up delay-100">Digital Creator & Visual Storyteller</h2>
      <div className="animate-fade-in-up delay-200">
        <h1 className="text-5xl md:text-9xl font-extralight text-transparent bg-clip-text bg-gradient-to-b from-white to-zinc-400 tracking-tighter leading-none mb-2">AYUSH</h1>
        <h1 className="text-5xl md:text-9xl font-light text-zinc-100 tracking-[0.1em] md:tracking-[0.15em] leading-none mb-10 italic font-serif">NANDI</h1>
      </div>
      <p className="text-zinc-300 text-base md:text-xl font-light max-w-2xl mx-auto mb-12 leading-relaxed animate-fade-in-up delay-500">A blend of raw photography, intentional design, and the subtle dance of technology.</p>
      <div className="flex flex-col sm:flex-row items-center justify-center gap-4 md:gap-6 animate-fade-in-up delay-700 w-full px-4">
        <a href="#works" className="w-full sm:w-auto px-10 py-5 bg-zinc-100 text-zinc-950 text-xs md:text-sm tracking-widest uppercase font-bold hover:bg-white active:scale-95 transition-all rounded-full flex items-center justify-center gap-2 shadow-lg">Explore <ArrowRight size={16} /></a>
        <a href={INSTAGRAM_URL} target="_blank" rel="noopener noreferrer" className="w-full sm:w-auto px-10 py-5 border border-zinc-700 text-zinc-100 text-xs md:text-sm tracking-widest uppercase font-bold hover:bg-zinc-900 active:scale-95 transition-all rounded-full flex items-center justify-center gap-2 bg-white/5 backdrop-blur-sm"><Instagram size={16} /> Instagram</a>
      </div>
    </div>
  </section>
);

const ExperienceCard = ({ exp, onComingSoonTrigger }) => {
  return (
    <div className="group relative block p-6 md:p-10 bg-zinc-900/40 border border-zinc-800/60 rounded-2xl overflow-hidden shadow-sm transition-all active:bg-zinc-900/60 hover:border-white/10">
      <div className="relative z-10 flex flex-col md:flex-row items-center gap-6 md:gap-12">
        <div className="shrink-0">
          <div className="w-16 h-16 md:w-20 md:h-20 rounded-full border border-zinc-800 flex items-center justify-center bg-zinc-950 overflow-hidden shadow-xl">
            <img src={exp.imgUrl} alt={exp.handle} className="w-full h-full object-cover transition-all duration-700" />
          </div>
        </div>
        <div className="flex-1 w-full text-center md:text-left">
          <div className="flex flex-col md:flex-row items-center md:items-end gap-1 md:gap-4 mb-3">
             <h3 className="text-lg md:text-2xl font-light text-zinc-100 tracking-wide uppercase">{exp.handle}</h3>
             <span className="text-[10px] tracking-[0.2em] text-zinc-600 uppercase">{exp.year}</span>
          </div>
          <div className="mb-6">
            <p className="text-zinc-400 text-xs md:text-sm font-medium tracking-wide uppercase">{exp.role}</p>
            <p className="text-zinc-600 text-[10px] tracking-widest uppercase mt-1">{exp.label}</p>
          </div>
          <div className="flex flex-wrap items-center justify-center md:justify-start gap-3">
            {exp.platforms.map((platform, idx) => (
              <button 
                key={idx} 
                onClick={() => {
                  if (exp.links[platform] === 'COMING_SOON') {
                    onComingSoonTrigger();
                  } else {
                    window.open(exp.links[platform], '_blank');
                  }
                }}
                className="p-4 bg-zinc-800/50 rounded-xl border border-zinc-800 hover:border-zinc-400 active:scale-90 transition-all hover:bg-white/5 backdrop-blur-sm"
              >
                {platform === 'instagram' && <Instagram size={20} className="text-zinc-300" />}
                {platform === 'linkedin' && <Linkedin size={20} className="text-zinc-300" />}
                {platform === 'globe' && <Globe size={20} className={`${exp.handle === 'EMAUR' ? 'text-blue-400 animate-pulse' : 'text-zinc-300'}`} />}
              </button>
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

const QuotesSection = () => {
  const [currentIndex, setCurrentIndex] = useState(0);
  const [isTransitioning, setIsTransitioning] = useState(false);
  useEffect(() => {
    const timer = setInterval(() => {
      setIsTransitioning(true);
      setTimeout(() => {
        setCurrentIndex((prev) => (prev + 1) % QUOTES.length);
        setIsTransitioning(false);
      }, 800); 
    }, 5000); 
    return () => clearInterval(timer);
  }, []);
  return (
    <section className="py-24 md:py-32 bg-zinc-950 border-t border-zinc-900 overflow-hidden text-center px-6">
      <div className={`transition-all duration-800 ${isTransitioning ? 'opacity-0 scale-95 blur-sm' : 'opacity-100 scale-100 blur-0'}`}>
        <Quote className="text-zinc-800 mx-auto mb-8 opacity-40" size={40} />
        <p className="text-xl md:text-3xl font-light text-zinc-100 italic font-serif leading-relaxed mb-8 max-w-4xl mx-auto">"{QUOTES[currentIndex].text}"</p>
        <div className="flex items-center justify-center gap-4">
          <div className="w-8 h-[1px] bg-zinc-800" /><span className="text-[10px] uppercase tracking-[0.4em] text-zinc-500 font-bold">{QUOTES[currentIndex].author}</span><div className="w-8 h-[1px] bg-zinc-800" />
        </div>
      </div>
    </section>
  );
};

const GlobalStyles = () => (
  <style dangerouslySetInnerHTML={{ __html: `
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;1,400&family=Inter:wght@200;300;400;700&display=swap');
    html { scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }
    body { background-color: #09090b; color: #a1a1aa; font-family: 'Inter', sans-serif; margin: 0; overflow-x: hidden; }
    .font-serif { font-family: 'Playfair Display', serif; }
    @keyframes slow-zoom { from { transform: scale(1); } to { transform: scale(1.1); } }
    .animate-slow-zoom { animation: slow-zoom 20s ease-in-out infinite alternate; }
    @keyframes fade-in-up { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fade-in-up { animation: fade-in-up 1s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
    .delay-100 { animation-delay: 100ms; }
    .delay-200 { animation-delay: 200ms; }
    .delay-500 { animation-delay: 500ms; }
    .delay-700 { animation-delay: 700ms; }
    @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
    .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
  `}} />
);

export default function App() {
  const [showComingSoon, setShowComingSoon] = useState(false);

  useEffect(() => {
    if (showComingSoon) {
      document.body.style.overflow = 'hidden';
      document.documentElement.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = 'auto';
      document.documentElement.style.overflow = 'auto';
    }
    return () => {
      document.body.style.overflow = 'auto';
      document.documentElement.style.overflow = 'auto';
    };
  }, [showComingSoon]);

  return (
    <div className={`min-h-screen selection:bg-zinc-100 selection:text-zinc-900 overflow-x-hidden bg-zinc-950 ${showComingSoon ? 'h-screen overflow-hidden' : ''}`}>
      <GlobalStyles />
      
      {showComingSoon && <ComingSoonOverlay onClose={() => setShowComingSoon(false)} />}
      
      <Navbar />
      <main>
        <Hero />
        
        <section id="works" className="py-24 md:py-32 bg-zinc-950">
          <div className="max-w-7xl mx-auto px-6">
            <div className="flex flex-col md:flex-row md:items-end justify-between mb-16 gap-8">
              <div className="max-w-xl">
                <span className="text-[10px] uppercase tracking-[0.4em] text-zinc-600 mb-4 block">Archive</span>
                <h2 className="text-3xl md:text-5xl font-light text-zinc-100 tracking-tight">Selective Fragments</h2>
              </div>
              <div className="flex flex-wrap gap-2">
                {CATEGORIES.map(cat => (
                  <button key={cat} className="text-[9px] md:text-[10px] uppercase tracking-widest px-5 py-3 border border-zinc-800 rounded-full text-zinc-400">{cat}</button>
                ))}
              </div>
            </div>
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
              {INITIAL_PROJECTS.map((project) => (
                <div key={project.id} className="group relative overflow-hidden bg-zinc-900 rounded-lg aspect-[3/4]">
                  <img src={project.imageUrl} alt={project.title} className="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-all duration-700" />
                  <div className="absolute inset-0 bg-gradient-to-t from-zinc-950/80 to-transparent" />
                  <div className="absolute bottom-0 left-0 p-6 md:p-8">
                    <span className="text-[9px] uppercase tracking-[0.3em] text-zinc-200 mb-1 block font-bold">{project.category}</span>
                    <h3 className="text-xl md:text-2xl font-light text-white">{project.title}</h3>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </section>

        <section id="experience" className="py-24 md:py-32 bg-zinc-950 border-t border-zinc-900">
          <div className="max-w-7xl mx-auto px-6">
            <div className="grid lg:grid-cols-3 gap-12 md:gap-16">
              <div className="lg:col-span-1 text-center md:text-left">
                <span className="text-[10px] uppercase tracking-[0.4em] text-zinc-600 mb-6 block">Professional</span>
                <h2 className="text-3xl md:text-5xl font-light text-zinc-100 mb-6">Chronicles</h2>
                <p className="text-zinc-500 text-sm md:text-lg font-light leading-relaxed">Connect with the projects I'm building.</p>
              </div>
              <div className="lg:col-span-2 space-y-4 md:space-y-6">
                {EXPERIENCES.map((exp) => (
                  <ExperienceCard 
                    key={exp.id} 
                    exp={exp} 
                    onComingSoonTrigger={() => setShowComingSoon(true)} 
                  />
                ))}
              </div>
            </div>
          </div>
        </section>

        <section id="about" className="py-24 md:py-32 bg-zinc-950 border-t border-zinc-900 px-6">
          <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-16 md:gap-24 items-center">
            <div className="relative max-w-sm mx-auto md:max-w-none">
              <img src={PROFILE_IMAGE_URL} alt="Ayush Nandi" className="w-full rounded-lg object-cover aspect-[4/5] shadow-2xl border border-white/5" />
            </div>
            <div>
              <h2 className="text-3xl md:text-4xl font-light text-zinc-100 mb-8 tracking-tight leading-snug">Blending <span className="italic font-serif text-zinc-300">analog intuition</span> with digital precision.</h2>
              <p className="text-zinc-400 text-sm md:text-base font-light leading-relaxed">My journey started in darkrooms and ended in code. I look for the texture in a brand identity and depth in user interfaces.</p>
            </div>
          </div>
        </section>

        <QuotesSection />
      </main>
      
      <footer className="bg-zinc-950 pt-20 pb-10 border-t border-zinc-900 px-6 text-center md:text-left">
        <div className="max-w-7xl mx-auto flex flex-col md:flex-row justify-between gap-12">
          <div className="max-w-md">
            <h2 className="text-2xl font-light text-white mb-4">Creating with <span className="italic">soul</span>.</h2>
            <p className="text-zinc-500 text-sm font-light uppercase tracking-widest">© 2025 {APP_NAME}. Crafted with intentionality.</p>
          </div>
          <div className="flex gap-8 justify-center">
            <a href={INSTAGRAM_URL} target="_blank" rel="noopener noreferrer" className="text-zinc-400 hover:text-white transition-colors"><Instagram size={20} /></a>
            <a href={LINKEDIN_URL} target="_blank" rel="noopener noreferrer" className="text-zinc-400 hover:text-white transition-colors"><Linkedin size={20} /></a>
          </div>
        </div>
      </footer>
    </div>
  );
}
